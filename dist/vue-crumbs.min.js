/*!
 * vue-crumbs v1.2.0
 * https://github.com/jypblue/vue-crumbs
 * Released under the MIT License. 
 */

!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):r.VueCrumbs=t()}(this,function(){"use strict";function r(t){r.installed||t.component("breadcrumb",{props:{mode:{type:String,default:"mix"},rightIcon:{type:String,default:"arrow-right"}},data:function(){return{crumbs:[],currentPathStr:this.$route.path.replace(/\//g,"")}},methods:{fnUrlCrumbsArr:function(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=[],n=0;n<r.length;n++){var i=r[n].meta.breadcrumb;if(i)for(var a=0;a<i.length;a++){var u=(i[a].url||r[n].path).replace(/\//g,""),s=i[a].hidden;if(t===u&&s)break;e.push(i[a])}}return e},fnRoutesArr:function(){var r=[];r.push(this.$route);for(var t=this.$route.meta.parent;t;){var e=this.$router.match(t);r.unshift(e),t=e.meta.parent}return r},getUrlModeCrumbs:function(){var r=this.fnRoutesArr();return this.fnUrlCrumbsArr(r,this.currentPathStr)},fnNameCrumbsArr:function(r,t){for(var e=[],n=0;n<r.length;n++){var i=r[n].route.meta.breadcrumb;if(i=Array.isArray(i)?i[0]:i){var a={url:r[n].route.path,icon:i.icon,name:i.name},u=a.url.replace(/\//g,""),s=a.hidden;if(t===u&&s)break;e.push(a)}}return e},fnRoutesNameArr:function(){var r=[],t=this.$router.resolve({name:this.$route.name,params:this.$route.params});r.push(t);for(var e=this.$route.meta.parent;e;){var n=this.$router.resolve({name:e,params:this.$route.params});r.unshift(n),e=n.route.meta.parent}return r},getNameModeCrumbs:function(){return this.fnNameCrumbsArr(this.fnRoutesNameArr(),this.currentPathStr)},getMixModeCrumbs:function(){var r=[],t=[],e=this.$router.resolve({name:this.$route.name,params:this.$route.params});t.push(e),r.push(this.$route);for(var n=this.$route.meta.parent;n;)if(-1!==n.indexOf("/")){var i=this.$router.match(n);r.unshift(i),n=i.meta.parent}else{var a=this.$router.resolve({name:n,params:this.$route.params});t.unshift(a),n=a.route.meta.parent}return this.$route.name&&t.length>=r.length?this.fnNameCrumbsArr(t,this.currentPathStr):this.fnUrlCrumbsArr(r,this.currentPathStr)},changeCrumbs:function(){switch(this.mode){case"name":this.crumbs=this.getNameModeCrumbs();break;case"url":this.crumbs=this.getUrlModeCrumbs();break;default:this.crumbs=this.getMixModeCrumbs()}}},watch:{$route:"changeCrumbs"},mounted:function(){this.changeCrumbs()},template:'<ul><li v-for="(item ,i) in crumbs" ><router-link v-if="i < crumbs.length - 1" :to="{ path: item.url}"><i :class="item.icon" v-if="!!item.icon"></i><span>{{ item.name }}</span></router-link><i :class="rightIcon" v-if="i !== crumbs.length - 1 && rightIcon"></i><a v-else><i :class="item.icon" v-if="!!item.icon"></i><span>{{ item.name }}</span></a></li></ul>'})}return"undefined"!=typeof window&&window.Vue&&window.Vue.use(r),r});